import{u as g,e as c,r as l,f,o as d,c as _,a as e,g as v,h as u,v as p,_ as w,i as h,j as b}from"./DG8X6CVM.js";import{u as y}from"./DENj4-BJ.js";import{u as x}from"./BZK9w8Qm.js";const B=async(n,s)=>{try{return await $fetch(`${g().public.apiUrl}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:{email:n,password:s}})}catch(t){return console.error("Error logging in:",t),{success:!1,message:"Błąd logowania"}}},E={class:"login-container"},k={class:"login-box"},N={class:"form-group"},U={class:"form-group"},V=c({__name:"LoginForm",setup(n){const s=l("yovasec567@fincainc.com"),t=l("Zaq1@wsx"),i=f(),m=async()=>{const a=await B(s.value,t.value);if(console.log(a),a.status===200&&a.token){const o=y("isAuthenticated");o.value=!0,i.push("/about")}else console.log("Nieprawidłowy login lub hasło")};return(a,o)=>(d(),_("div",E,[e("div",k,[e("form",{onSubmit:v(m,["prevent"])},[e("div",N,[o[2]||(o[2]=e("label",{for:"email"},"Email:",-1)),u(e("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=r=>s.value=r),id:"email",placeholder:"Wprowadź email",required:""},null,512),[[p,s.value]])]),e("div",U,[o[3]||(o[3]=e("label",{for:"password"},"Hasło:",-1)),u(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=r=>t.value=r),id:"password",placeholder:"Wprowadź hasło",required:""},null,512),[[p,t.value]])]),o[4]||(o[4]=e("button",{type:"submit"},"Zaloguj się",-1))],32)])]))}}),$=w(V,[["__scopeId","data-v-03539460"]]),L=c({__name:"login",setup(n){const s=h();return x({title:`${s.meta.title}`}),console.log("NODE_ENV:","production"),(t,i)=>(d(),b($))}});export{L as default};
