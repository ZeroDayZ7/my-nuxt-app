import{C as f,A as p,r as i,X as g,o as d,c as _,a as e,Y as v,Z as l,$ as u,_ as w,V as b}from"./DGtwpiUa.js";import{u as h}from"./C6RSkuXQ.js";const y=async(n,a)=>{try{return await $fetch(`${f().public.apiUrl}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:{email:n,password:a}})}catch(s){return console.error("Error logging in:",s),{success:!1,message:"Błąd logowania"}}},x={class:"login-container"},B={class:"login-box"},E={class:"form-group"},V={class:"form-group"},k=p({__name:"LoginForm",setup(n){const a=i("yovasec567@fincainc.com"),s=i("Zaq1@wsx"),c=g(),m=async()=>{const t=await y(a.value,s.value);if(console.log(t),t.status===200&&t.token){const o=h("isAuthenticated");o.value=!0,c.push("/about")}else console.log("Nieprawidłowy login lub hasło")};return(t,o)=>(d(),_("div",x,[e("div",B,[e("form",{onSubmit:v(m,["prevent"])},[e("div",E,[o[2]||(o[2]=e("label",{for:"email"},"Email:",-1)),l(e("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=r=>a.value=r),id:"email",placeholder:"Wprowadź email",required:""},null,512),[[u,a.value]])]),e("div",V,[o[3]||(o[3]=e("label",{for:"password"},"Hasło:",-1)),l(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=r=>s.value=r),id:"password",placeholder:"Wprowadź hasło",required:""},null,512),[[u,s.value]])]),o[4]||(o[4]=e("button",{type:"submit"},"Zaloguj się",-1)),o[5]||(o[5]=e("p",{class:"forgot-password"},[e("a",{href:"#"},"Zapomniałeś hasła?")],-1))],32)])]))}}),C=w(k,[["__scopeId","data-v-62eb48fa"]]),Z=p({__name:"login",setup(n){return console.log("NODE_ENV:","production"),(a,s)=>(d(),b(C))}});export{Z as default};
